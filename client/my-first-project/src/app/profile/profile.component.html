<app-navbar/>
<!--
<div class="login-container">
    <form class="login-form" [formGroup]="profileForm" (ngSubmit)="onSubmit()">
        <input formControlName="email" type="email" placeholder="New email" [ngClass]="{'invalid-input': profileForm.get('email')?.errors}" />
        <div *ngIf="profileForm.get('email')?.invalid && (profileForm.get('email')?.dirty || profileForm.get('email')?.touched)">
            <p *ngIf="profileForm.get('email')?.errors && profileForm.get('email')?.errors!['email']">Please enter a valid email.</p>
        </div>
        <input formControlName="password" type="password" placeholder="New password" [ngClass]="{'invalid-input': profileForm.get('password')?.errors}" />
        <div *ngIf="profileForm.get('password')?.invalid && (profileForm.get('password')?.dirty || profileForm.get('password')?.touched)">
            <p *ngIf="profileForm.get('password')?.errors && profileForm.get('password')?.errors!['minlength']">Password must be at least 6 characters.</p>
        </div>
        <div *ngIf="profileForm.get('password')?.value">
        <input formControlName="confirmPassword" type="password" placeholder="Confirm new password" [ngClass]="{'invalid-input': profileForm.get('confirmPassword')?.errors}" />
        <div *ngIf="profileForm.get('confirmPassword')?.invalid && (profileForm.get('confirmPassword')?.dirty || profileForm.get('confirmPassword')?.touched)">
            <p *ngIf="profileForm.get('confirmPassword')?.errors && profileForm.get('confirmPassword')?.errors!['mustMatch']">Passwords must match.</p>
        </div>
        </div>
        <input formControlName="name" type="text" placeholder="New username" />
        <input formControlName="phone" type="text" placeholder="New phone number" />
        
        <div class="buttons">
            <button type="submit">Update</button>
        </div>
        <div class="buttons">
            <button type="reset" (click)="logout()">Logout</button>
        </div>
    </form>
</div>
-->

<div class="login-container">
  <form class="login-form" [formGroup]="profileForm" (ngSubmit)="onSubmit()">

    <mat-form-field appearance="fill" class="full-width" >
      <mat-label>New email</mat-label>
      <input matInput formControlName="email" type="email" />
      <mat-error *ngIf="profileForm.get('email')?.invalid && (profileForm.get('email')?.dirty || profileForm.get('email')?.touched)">
        <span *ngIf="profileForm.get('email')?.errors?.['email']">Please enter a valid email.</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>New password</mat-label>
      <input matInput formControlName="password" type="password" />
      <mat-error *ngIf="profileForm.get('password')?.invalid && (profileForm.get('password')?.dirty || profileForm.get('password')?.touched)">
        <span *ngIf="profileForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters.</span>
      </mat-error>
    </mat-form-field>

    <ng-container *ngIf="profileForm.get('password')?.value">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Confirm new password</mat-label>
        <input matInput formControlName="confirmPassword" type="password" />
        <mat-error *ngIf="profileForm.get('confirmPassword')?.invalid && (profileForm.get('confirmPassword')?.dirty || profileForm.get('confirmPassword')?.touched)">
          <span *ngIf="profileForm.get('confirmPassword')?.errors?.['mustMatch']">Passwords must match.</span>
        </mat-error>
      </mat-form-field>
    </ng-container>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>New username</mat-label>
      <input matInput formControlName="name" type="text" />
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>New phone number</mat-label>
      <input matInput formControlName="phone" type="text" />
    </mat-form-field>

    <div class="buttons">
      <button mat-flat-button color="primary" type="submit" class="full-width">Update</button>
    </div>
    <div class="buttons">
      <button mat-flat-button color="warn" type="reset" class="full-width" (click)="logout()">Logout</button>
    </div>

  </form>
</div>